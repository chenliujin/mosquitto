<html>
<head>
  <title>test Ws mqtt.js</title>
</head>
<body>
<script src="./browserMqtt.js"></script>
<script>
  // websockets + 匿名用户 
  var client = mqtt.connect({protocol: 'ws', host:'127.0.0.1', port:'9001'}) 

  // websockets + user 
  //var client = mqtt.connect({protocol: 'ws', host:'127.0.0.1', port:'9001', username: 'appuser', password: '123456'})

  // websockets tls + user 
  //var client = mqtt.connect({protocol: 'wss', host:'mqtt.chenliujin.com', port:'9002', username: 'appuser', password: '123456'})

  client.subscribe("mqtt/demo")

  client.on("message", function (topic, payload) {
    alert([topic, payload].join(": "))
    client.end()
  })

  client.publish("mqtt/demo", "hello world!")
</script>
</body>
</html>
